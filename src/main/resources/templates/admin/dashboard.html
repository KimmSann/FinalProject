<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>관리자 대시보드</title>
</head>
<body>
    <h1>관리자 페이지</h1>

    <h2> 유저 관리</h2>
    <table border="1">
        <tr><th>ID</th><th>이름</th><th>밴 여부</th><th>액션</th></tr>
        <tr th:each="user : ${users}">
            <td th:text="${user.id}"></td>
            <td th:text="${user.username}"></td>
            <td th:text="${user.banned ? '밴됨' : '정상'}"></td>
            <td>
                <form th:action="@{/admin/ban}" method="post" style="display:inline">
                    <input type="hidden" name="userId" th:value="${user.id}" />
                    <button type="submit">밴</button>
                </form>
                <form th:action="@{/admin/delete-user}" method="post" style="display:inline">
                    <input type="hidden" name="userId" th:value="${user.id}" />
                    <button type="submit">탈퇴</button>
                </form>
            </td>
        </tr>
    </table>

    <h2> 게시물 관리</h2>
    <table border="1">
        <tr><th>ID</th><th>제목</th><th>작성자</th><th>액션</th></tr>
        <tr th:each="post : ${posts}">
            <td th:text="${post.id}"></td>
            <td th:text="${post.title}"></td>
            <td th:text="${post.author.username}"></td>
            <td>
                <form th:action="@{/admin/delete-post}" method="post">
                    <input type="hidden" name="postId" th:value="${post.id}" />
                    <button type="submit">삭제</button>
                </form>
            </td>
        </tr>
    </table>

    <h2>💬 댓글 관리</h2>
    <table border="1">
        <tr><th>ID</th><th>내용</th><th>작성자</th><th>액션</th></tr>
        <tr th:each="comment : ${comments}">
            <td th:text="${comment.id}"></td>
            <td th:text="${comment.content}"></td>
            <td th:text="${comment.author.username}"></td>
            <td>
                <form th:action="@{/admin/delete-comment}" method="post">
                    <input type="hidden" name="commentId" th:value="${comment.id}" />
                    <button type="submit">삭제</button>
                </form>
            </td>
        </tr>
    </table>
</body>
</html>